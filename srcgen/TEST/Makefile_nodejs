######
#
# For testing xats2js
#
######

CAT=cat
CPF=cp -f
ECHO=echo
NODE=node

######
SHARE=./../../share
XANADU=./../../xanadu
XATS2JS="./../../bin/xats2js"
######
XATS2JS_RUNTIME=\
"$(SHARE)/runtime/xats2js_runtime.js"
######
all:: test
######
PRELUDE=./prelude
GITHWXI=./xatslib_githwxi
######
test:: \
test-2020-06-20
test-2020-06-20:: ; \
$(CAT) $(XATS2JS_RUNTIME) > output_dats.js && \
$(XATS2JS) --output-a output_dats.js -d $(GITHWXI)/test-2020-06-20.dats && $(NODE) --stack-size=8000 output_dats.js
######
test:: \
test-2020-07-25
test-2020-07-25:: ; \
$(CAT) $(XATS2JS_RUNTIME) > output_dats.js && \
$(XATS2JS) --output-a output_dats.js -d $(GITHWXI)/test-2020-07-25.dats && $(NODE) --stack-size=8000 output_dats.js
######
test:: \
test-ats2-queens
test-ats2-queens:: ; \
$(CAT) $(XATS2JS_RUNTIME) > output_dats.js && \
$(XATS2JS) --output-a output_dats.js -d $(GITHWXI)/test-ats2-queens.dats && $(NODE) --stack-size=8000 output_dats.js
######
#
# HX: for cleaning up
#
######
clean:: ; rm -f *~
######
cleanall:: clean
cleanall:: ; rm -f output
######
###### end of [Makefile_nodejs] ######
